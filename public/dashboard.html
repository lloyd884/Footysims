<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FootySIMs Dashboard</title>
    <style>
        body { font-family: Arial; background: #228B22; color: white; text-align: center; padding: 20px; }
        button { background: white; color: #228B22; padding: 15px 30px; margin: 10px; font-size: 18px; border: none; border-radius: 8px; }
        .box { background: rgba(255,255,255,0.1); padding: 25px; margin: 20px auto; max-width: 420px; border-radius: 16px; }
        img { max-width: 340px; margin: 20px auto; border: 8px solid white; border-radius: 16px; }
        select, input { padding: 14px; margin: 10px; width: 90%; font-size: 17px; border-radius: 12px; border: none; }
        .flag { font-size: 26px; }
    </style>
</head>
<body>
    <h1>Your FootySIMs Dashboard</h1>
    <div id="userInfo" class="box">Loading...</div>

    <div class="box">
        <h2>Your Reusable eSIM</h2>
        <div id="qrContainer">Tap button to get your eSIM</div>
        <p id="usage">Data left: 0 GB â€“ top up for next trip</p>
    </div>

    <div class="box">
        <h2>Choose Your Pack ğŸŒ</h2>
        <select id="country">
            <option value="TH">ğŸ‡¹ğŸ‡­ Thailand (5GB $4.90)</option>
            <option value="US">ğŸ‡ºğŸ‡¸ USA (5GB $4.90)</option>
            <option value="AF">ğŸ‡¦ğŸ‡« Afghanistan (5GB $4.90)</option>
            <option value="AL">ğŸ‡¦ğŸ‡± Albania (5GB $4.90)</option>
            <option value="DZ">ğŸ‡©ğŸ‡¿ Algeria (5GB $4.90)</option>
            <option value="AR">ğŸ‡¦ğŸ‡· Argentina (5GB $4.90)</option>
            <option value="AU">ğŸ‡¦ğŸ‡º Australia (5GB $4.90)</option>
            <option value="AT">ğŸ‡¦ğŸ‡¹ Austria (5GB $4.90)</option>
            <option value="BH">ğŸ‡§ğŸ‡­ Bahrain (5GB $4.90)</option>
            <option value="BE">ğŸ‡§ğŸ‡ª Belgium (5GB $4.90)</option>
            <option value="BR">ğŸ‡§ğŸ‡· Brazil (5GB $4.90)</option>
            <option value="BG">ğŸ‡§ğŸ‡¬ Bulgaria (5GB $4.90)</option>
            <option value="CA">ğŸ‡¨ğŸ‡¦ Canada (5GB $4.90)</option>
            <option value="CL">ğŸ‡¨ğŸ‡± Chile (5GB $4.90)</option>
            <option value="CN">ğŸ‡¨ğŸ‡³ China (5GB $4.90)</option>
            <option value="CO">ğŸ‡¨ğŸ‡´ Colombia (5GB $4.90)</option>
            <option value="HR">ğŸ‡­ğŸ‡· Croatia (5GB $4.90)</option>
            <option value="CY">ğŸ‡¨ğŸ‡¾ Cyprus (5GB $4.90)</option>
            <option value="CZ">ğŸ‡¨ğŸ‡¿ Czech Republic (5GB $4.90)</option>
            <option value="DK">ğŸ‡©ğŸ‡° Denmark (5GB $4.90)</option>
            <option value="EG">ğŸ‡ªğŸ‡¬ Egypt (5GB $4.90)</option>
            <option value="EE">ğŸ‡ªğŸ‡ª Estonia (5GB $4.90)</option>
            <option value="FI">ğŸ‡«ğŸ‡® Finland (5GB $4.90)</option>
            <option value="FR">ğŸ‡«ğŸ‡· France (5GB $4.90)</option>
            <option value="DE">ğŸ‡©ğŸ‡ª Germany (5GB $4.90)</option>
            <option value="GR">ğŸ‡¬ğŸ‡· Greece (5GB $4.90)</option>
            <option value="HK">ğŸ‡­ğŸ‡° Hong Kong (5GB $4.90)</option>
            <option value="HU">ğŸ‡­ğŸ‡º Hungary (5GB $4.90)</option>
            <option value="IS">ğŸ‡®ğŸ‡¸ Iceland (5GB $4.90)</option>
            <option value="IN">ğŸ‡®ğŸ‡³ India (5GB $4.90)</option>
            <option value="ID">ğŸ‡®ğŸ‡© Indonesia (5GB $4.90)</option>
            <option value="IE">ğŸ‡®ğŸ‡ª Ireland (5GB $4.90)</option>
            <option value="IL">ğŸ‡®ğŸ‡± Israel (5GB $4.90)</option>
            <option value="IT">ğŸ‡®ğŸ‡¹ Italy (5GB $4.90)</option>
            <option value="JP">ğŸ‡¯ğŸ‡µ Japan (5GB $4.90)</option>
            <option value="KR">ğŸ‡°ğŸ‡· Korea (5GB $4.90)</option>
            <option value="KW">ğŸ‡°ğŸ‡¼ Kuwait (5GB $4.90)</option>
            <option value="LV">ğŸ‡±ğŸ‡» Latvia (5GB $4.90)</option>
            <option value="LB">ğŸ‡±ğŸ‡§ Lebanon (5GB $4.90)</option>
            <option value="LT">ğŸ‡±ğŸ‡¹ Lithuania (5GB $4.90)</option>
            <option value="LU">ğŸ‡±ğŸ‡º Luxembourg (5GB $4.90)</option>
            <option value="MY">ğŸ‡²ğŸ‡¾ Malaysia (5GB $4.90)</option>
            <option value="MT">ğŸ‡²ğŸ‡¹ Malta (5GB $4.90)</option>
            <option value="MX">ğŸ‡²ğŸ‡½ Mexico (5GB $4.90)</option>
            <option value="NL">ğŸ‡³ğŸ‡± Netherlands (5GB $4.90)</option>
            <option value="NZ">ğŸ‡³ğŸ‡¿ New Zealand (5GB $4.90)</option>
            <option value="NO">ğŸ‡³ğŸ‡´ Norway (5GB $4.90)</option>
            <option value="OM">ğŸ‡´ğŸ‡² Oman (5GB $4.90)</option>
            <option value="PE">ğŸ‡µğŸ‡ª Peru (5GB $4.90)</option>
            <option value="PH">ğŸ‡µğŸ‡­ Philippines (5GB $4.90)</option>
            <option value="PL">ğŸ‡µğŸ‡± Poland (5GB $4.90)</option>
            <option value="PT">ğŸ‡µğŸ‡¹ Portugal (5GB $4.90)</option>
            <option value="QA">ğŸ‡¶ğŸ‡¦ Qatar (5GB $4.90)</option>
            <option value="RO">ğŸ‡·ğŸ‡´ Romania (5GB $4.90)</option>
            <option value="RU">ğŸ‡·ğŸ‡º Russia (5GB $4.90)</option>
            <option value="SA">ğŸ‡¸ğŸ‡¦ Saudi Arabia (5GB $4.90)</option>
            <option value="SG">ğŸ‡¸ğŸ‡¬ Singapore (5GB $4.90)</option>
            <option value="SK">ğŸ‡¸ğŸ‡° Slovakia (5GB $4.90)</option>
            <option value="SI">ğŸ‡¸ğŸ‡® Slovenia (5GB $4.90)</option>
            <option value="ZA">ğŸ‡¿ğŸ‡¦ South Africa (5GB $4.90)</option>
            <option value="ES">ğŸ‡ªğŸ‡¸ Spain (5GB $4.90)</option>
            <option value="SE">ğŸ‡¸ğŸ‡ª Sweden (5GB $4.90)</option>
            <option value="CH">ğŸ‡¨ğŸ‡­ Switzerland (5GB $4.90)</option>
            <option value="TW">ğŸ‡¹ğŸ‡¼ Taiwan (5GB $4.90)</option>
            <option value="TH">ğŸ‡¹ğŸ‡­ Thailand (5GB $4.90)</option>
            <option value="TR">ğŸ‡¹ğŸ‡· Turkey (5GB $4.90)</option>
            <option value="UA">ğŸ‡ºğŸ‡¦ Ukraine (5GB $4.90)</option>
            <option value="AE">ğŸ‡¦ğŸ‡ª United Arab Emirates (5GB $4.90)</option>
            <option value="GB">ğŸ‡¬ğŸ‡§ United Kingdom (5GB $4.90)</option>
            <option value="UY">ğŸ‡ºğŸ‡¾ Uruguay (5GB $4.90)</option>
            <option value="VN">ğŸ‡»ğŸ‡³ Vietnam (5GB $4.90)</option>
        </select>
        <input id="gb" type="number" value="5" style="width:80px;">
        <button onclick="previewPlan()">Preview Pack</button>
        <div id="preview" style="margin-top:15px; font-size:19px; font-weight:bold;"></div>
    </div>

    <button onclick="topUp()">Top Up Selected Pack Now</button>
    <button onclick="showESIM()">âœ… Get My eSIM Now</button>
    <button onclick="window.location.href='howto.html'">ğŸ“– How to Use eSIM</button>
    <button onclick="addMate()">Add Mate (Group Travel)</button>
    <button onclick="logout()">Logout</button>

    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
    <script>
        const firebaseConfig = {
          apiKey: "AIzaSyAbU13lns_T_WCi-TNluGiw06rjMxAUids",
          authDomain: "footysims-43be5.firebaseapp.com",
          projectId: "footysims-43be5",
          storageBucket: "footysims-43be5.firebasestorage.app",
          messagingSenderId: "663997348288",
          appId: "1:663997348288:web:c0c53c5dc32e546add7025"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        auth.onAuthStateChanged(user => {
            if (user) {
                document.getElementById('userInfo').innerHTML = `âœ… Logged in as <b>${user.email}</b>`;
            } else {
                window.location.href = 'index.html';
            }
        });

        function logout() { auth.signOut().then(() => window.location.href = 'index.html'); }
        function topUp() { window.location.href = "https://buy.stripe.com/9B6bJ3giNbAi6RW6jk04800"; }

        function previewPlan() {
            const countryText = document.getElementById('country').options[document.getElementById('country').selectedIndex].text;
            const gb = document.getElementById('gb').value;
            document.getElementById('preview').innerHTML = `âœ… ${countryText}<br>${gb}GB for $${(gb * 0.98).toFixed(2)} â€“ ready for your trip!`;
        }

        function showESIM() {
            const qrHTML = `
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=340x340&data=ESIM-FOOTYSIMS-REUSABLE-12345" alt="eSIM QR">
                <p>Screenshot this QR (power + volume down) or scan directly on screen.</p>
            `;
            document.getElementById('qrContainer').innerHTML = qrHTML;
            document.getElementById('usage').innerHTML = 'Data left: 5 GB â€“ ready for next trip!';
        }

        function addMate() { alert("Add mate's email for group eSIM sharing (coming soon)"); }
    </script>
</body>
</html>
